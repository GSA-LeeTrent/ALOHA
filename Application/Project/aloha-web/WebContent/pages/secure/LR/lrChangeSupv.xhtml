<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:ace="http://www.icefaces.org/icefaces/components">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" template="/pages/templates/template-leave.xhtml">
	<ui:define name="content">
	 	<div id="main-content">

			<h:form prependId="false">

				<!-- PAGE TITLE (all pages)-->
				<h3 class="pageTitle"><h:outputText value="#{bundle['lr.changeSupervisor.pageTitle']}"/></h3>

				<!-- CONFIRMATION MESSAGE (page 3 only) -->
				<ui:fragment rendered="#{lrChangeSupvMB.pageThree}">
					<div style="width:90%;">				
						<div id="confirmMsg" class="confirmMsg" style="margin-left:auto;margin-right:auto;border: 2px solid #614A9F;">
							<h4 style="font-size:medium;"><h:outputText value="#{bundle['application.label.confirmation']}"/></h4>
							<ul>
								<li style="margin-left:0px;">
									<h:outputText value="#{lrChangeSupvMB.confirmationMessage}"/>
								</li>
							</ul>
							<div>
								<h:outputLink onclick="document.getElementById('confirmMsg').style.display='none';return false;">
									<h:outputText value="#{bundle['application.close']}"/>
								</h:outputLink>
							</div>
						</div>					
					</div>
				</ui:fragment>

				<!--  TOP PANEL (pages 1 & 3) -->
				<ui:fragment rendered="#{lrChangeSupvMB.pageOne or lrChangeSupvMB.pageThree}">
				  	<ui:insert name="lrTopPanel">
				        <ui:include src="common/lrTopPanel.xhtml">
				        	<ui:param name="leaveDetail" value="#{lrChangeSupvMB.leaveDetail}" />
				        	<ui:param name="topPanelHeaderText" value="#{lrChangeSupvMB.topPanelHeaderText}" />
				        </ui:include>
				 	</ui:insert>
				</ui:fragment>
				
	  			<!-- ALL REMARKS (pages 1 & 3) -->
	  			<ui:fragment rendered="#{lrChangeSupvMB.pageOne or lrChangeSupvMB.pageThree}">
				   	<ui:insert name="lrAllRemarksPanel">
						<ui:include src="common/lrAllRemarks.xhtml">
				     		<ui:param name="lrAllRemarksList" value="#{lrChangeSupvMB.leaveDetail.leaveHeader.allRemarks}" />
				      	</ui:include>
				  	</ui:insert>	   
				</ui:fragment>				
				
				
				<!-- LEAVE ITEMS (pages 1 & 3) -->
				<ui:fragment rendered="#{lrChangeSupvMB.pageOne or lrChangeSupvMB.pageThree}">
					<ui:insert name="lrItemsPanel">
				 		<ui:include src="common/lrItems.xhtml">
				       		<ui:param name="payPeriodDateRange" value="#{lrChangeSupvMB.leaveDetail.payPeriodDateRange}" />
				         	<ui:param name="lrItemList" value="#{lrChangeSupvMB.leaveDetail.leaveItems}" />
				      	</ui:include>
				  	</ui:insert>  
				</ui:fragment>
				
				<!-- COMPONENTS UNIQUE TO PAGE 1 -->
				<ui:fragment rendered="#{lrChangeSupvMB.pageOne}">
		            <ui:insert name="lrChangeSupervisor_PageOne">
		            	<ui:include src="lrChangeSupv_p1.xhtml">
		            		<ui:param name="lrChangeSupvMB" value="#{lrChangeSupvMB}" />
		            	</ui:include>
		            </ui:insert>
				</ui:fragment>
				
				<!-- COMPONENTS UNIQUE TO PAGE 2 -->
				<ui:fragment rendered="#{lrChangeSupvMB.pageTwo}">
		            <ui:insert name="lrChangeSupervisor_PageTwo">
		            	<ui:include src="lrChangeSupv_p2.xhtml">
		            		<ui:param name="lrChangeSupvMB" value="#{lrChangeSupvMB}" />
		            	</ui:include>
		            </ui:insert>
				</ui:fragment>
				
				<!-- COMPONENTS UNIQUE TO PAGE 3 -->
				<ui:fragment rendered="#{lrChangeSupvMB.pageThree}">
		            <ui:insert name="lrChangeSupervisor_PageThree">
		            	<ui:include src="lrChangeSupv_p3.xhtml">
		            		<ui:param name="lrChangeSupvMB" value="#{lrChangeSupvMB}" />
		            	</ui:include>
		            </ui:insert>
				</ui:fragment>		
						        
			</h:form>	
		</div>			
     </ui:define>
     
     <!-- SIDEBAR FOR LEAVE BALANCES AND LEAVE HISTORY (Pages 1 & 3 only)-->
      <!-- <ui:fragment rendered="#{lrChangeSupvMB.pageOne or lrChangeSupvMB.pageThree}">-->
	     <ui:define name="sidebar">
	   		<ui:include src="common/lrSidebar.xhtml">
	            <ui:param name="leaveDetail" value="#{lrChangeSupvMB.leaveDetail}" />
	            <ui:param name="leaveBalances" value="#{lrChangeSupvMB.leaveBalances}" /> 		
	   		</ui:include>
	    </ui:define>    
     <!-- </ui:fragment> --> 		   
</ui:composition>
</html>