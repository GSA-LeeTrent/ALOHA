SELECT
    ITM.LR_ITEM_ID      AS LR_ITEM_ID,
    ITM.LR_DETAIL_ID    AS LR_DETAIL_ID,
    ITM.LR_TYPE_ID      AS LR_TYPE_ID,
    ITM.LEAVE_DATE      AS LEAVE_DATE ,
    ITM.LEAVE_HOURS     AS LEAVE_HOURS
FROM
    ALOHA.LR_ITEM ITM
INNER JOIN 
    ALOHA.LR_DETAIL DTL 
        ON  DTL.LR_DETAIL_ID = ITM.LR_DETAIL_ID
INNER JOIN
    ALOHA.LR_HEADER HDR
        ON HDR.LR_HEADER_ID = DTL.LR_HEADER_ID
WHERE
    HDR.EMPLOYEE_USER_ID = ?
AND
    TO_CHAR(DTL.PP_START_DATE, 'YYYYMMDD') = TO_CHAR(?, 'YYYYMMDD')
AND 
    DTL.LR_STATUS_ID IN (SELECT LR_STATUS_ID FROM ALOHA.LR_STATUS WHERE CODE IN ('APPROVED', 'SUBMITTED', 'PEND_AMEND', 'PEND_WITHDRAW'))
ORDER BY
    ITM.LEAVE_DATE